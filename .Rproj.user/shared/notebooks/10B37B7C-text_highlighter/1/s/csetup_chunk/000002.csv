"0","knitr::opts_chunk$set(echo = TRUE)"
"0","# define function"
"0","#' Text highlighter"
"0","#'"
"0","#' @param A text to be print with highlighted words "
"0","#' @param dict a data.frame with columns ""word"" and ""colour"""
"0","#'"
"0","#' @return"
"0","#' @export"
"0","#'"
"0","#' @examples"
"0","highlight <- function(text, dict, id = NULL, output = c(""html"", ""tex"")) {"
"0","  temp <- NULL"
"0","  if (is.null(id)) id <- seq_along(text)"
"0","  for (i in seq_along(text)) {"
"0","    temp <- c(temp, paste0(""<strong>"", id[i], ""</strong>\n<p>""))"
"0","    for (j in seq_along(dict$word)) {"
"0","      text[i] <- stringi::stri_replace_all_fixed("
"0","        str = text[i],"
"0","        pattern = dict$word[j],"
"0","        replacement = paste0(""<span style='background-color: "", dict$colour[j], ""'>"", dict$word[j], ""</span>""),"
"0","        opts_fixed = stringi::stri_opts_fixed(case_insensitive = TRUE)"
"0","      )"
"0","    }"
"0","    temp <- c(temp, paste0(text[i]))"
"0","    temp <- c(temp, paste0(""\n</p>\n""))"
"0","  }"
"0","  if (interactive()) {"
"0","    tmpf <- paste0(tempfile(), "".html"")"
"0","  writeLines(temp, tmpf)"
"0","  if (Sys.getenv(""RSTUDIO"") == ""1"")"
"0","    rstudioapi::viewer(tmpf)"
"0","  else"
"0","    utils::browseURL(paste0(""file://"", tmpf))"
"0","  } else {"
"0","    cat(temp)"
"0","  }"
"0","}"
